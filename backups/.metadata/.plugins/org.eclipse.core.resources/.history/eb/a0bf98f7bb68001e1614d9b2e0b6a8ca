package takeScreenShotExample;





import java.io.File;

import java.io.IOException;

import java.util.List;



import org.apache.commons.io.FileUtils;

import org.openqa.selenium.By;

import org.openqa.selenium.JavascriptExecutor;

import org.openqa.selenium.OutputType;

import org.openqa.selenium.TakesScreenshot;

import org.openqa.selenium.WebDriver;

import org.openqa.selenium.WebElement;

import org.openqa.selenium.chrome.ChromeDriver;
import org.testng.annotations.AfterTest;
import org.testng.annotations.Test;



//ctrl+shift+O ----- add or remove unused imports



//Generated by Selenium IDE



public class AmazonApp {

    private WebDriver driver;



    @Test

    public void verifySearchItem() throws Exception {

        

        driver = new ChromeDriver();

        driver.manage().window().maximize(); 
        driver.get("https://www.amazon.in/");
        WebElement txt_searchbox = driver.findElement(By.cssSelector("#twotabsearchtextbox"));

        WebElement btn_Go = driver.findElement(By.cssSelector("[value=\"Go\"]"));

        

        txt_searchbox.sendKeys("iphone 15 pro");

        btn_Go.click();

        Thread.sleep(3000);

        TakesScreenshot ts =(TakesScreenshot)driver;
        File newsource = ts.getScreenshotAs(OutputType.FILE);
        
        File targetdestin = new File(".\\IBM_screenshot\\test2.png");

        FileUtils.copyFile(newsource, targetdestin);

        //takescreenshot

        

        

//      TakesScreenshot ts = ((TakesScreenshot) driver);

        

        

        

//      File screenshotFile = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);              ///captured a screenshot ----

//      

//      

//      File targetLocation = new File("./IBM_screenshot\\AmazonSeachProduct.png");

//      

//      

//      

//      FileUtils.copyFile(screenshotFile, targetLocation);

        

        captureScreens("Amazon_verifySearchItem_new");

        

        

        

    }

    

    

    

    public void captureScreens(String fileName) throws Exception {

        

        File screenshotFile = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);              ///captured a screenshot ----

        

        

       // File targetLocation = new File("C:\\Users\\Student\\eclipse-workspace\\com.ibm.training.batch1\\src\\test\\java\\IBM_screenshot\\"+fileName+".png");
         File targetLocation = new File(".\\IBM_screenshot\\Amazon2.png");

        

        

        

        FileUtils.copyFile(screenshotFile, targetLocation);

        

    }

    

    @AfterTest
    public void closeApp() {
    	driver.close();
    }

    

    

    

    

}

